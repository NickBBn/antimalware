# antimalware

## Выполнение

* Для реализации клиент-серверного взаимодействия использована библиотека [Boost.Beast](https://hunter.readthedocs.io/en/latest/packages/pkg/Beast.html#pkg-beast)
* При пересылке информации от клиента к серверу использвался формат данных json. Для работы с ним использована библиотека [nlohmann-json](https://github.com/nlohmann/json)
* Для подключения библиотек использован пакетный менеджер [Hunter](https://hunter.com)

Сервер работает в бесконечном цикле, ожидая подключений. Клиент подключается и серверу и также работает в бесконечном цикле,
то есть отправляет запросы серверу и получает ответы до тех пор, пока не будет нажато сочетание клавиш Ctrl+C.

При запуске клиента и сервера необходимо ввести ip-адрес и порт подключения - упрощает дальнейшую доработку клиент-серверного
взаимодействия до уровня локальной и глобальной сети.

`$ ./scan_service 0.0.0.0 3030`


`$ ./scan_util 0.0.0.0 3030`

```Shell
$ ./scan_util 0.0.0.0 3030
Enter directory name: /User/users/Downloads
=========== SCAN RESULT ============ 
"/home/niickson/CLionProjects/test" scanned
Processed files: 13
JS detects: 1
Unix detects: 1
macOS detects: 2
Errors: 0
Execution time: 1984 microseconds
==================================== 

Enter directory name: 
````

## Задание

Реализовано два приложения для Linux:

Сервисное приложение, ожидающее команд на сканирование файлов в директориях и выполняющее сканирование файлов в директориях, с целью нахождение в них “подозрительных” (suspicious) файлов;
Утилита, работающую из командной строки, отправляющую сервисному приложению команду на сканирование файлов в указанной директории.

В рамках задачи определено 3 типа “подозрительного” содержимого в файле.

JS suspicious: файл с расширением .js, содержащий строку: `<script>evil_script()</script>`

Unix suspicious: любой файл, содержащий строку `rm -rf ~/Documents`

macOS suspicious: любой файл, содержащий строку: `system("launchctl load /Library/LaunchAgents/com.malware.agent")`

Утилита дожтдается выполнения отправленной команды и по её итогам утилита выводит пользователю отчет о сканировании, в котором присутствует следующая информация:

общее количество обработанных файлов;
количество детектов на каждый тип “подозрительного” содержимого;
количество ошибок анализа файлов (например, не хватает прав на чтение файла);
время выполнения утилиты;




